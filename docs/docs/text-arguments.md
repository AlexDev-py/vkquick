# Команды с текстовыми аргументами

Бывает, что одними именами и префиксами для команды не обойдешься, требуются какие-то дополнительные параметры в команде от пользовталея. Например, нужно передать определенное число, другого пользователя/участника чата или просто текст. Можно разбить строку через сплит на список слов, но зачастую такое решение повлекает за собой череду не сразу заметных багов. VK Quick представляет комфортный интерфейс по получению аргументов, поэтому сразу перейдем к примеру, но сначала немного обобщающей теории о том, что такое текстовые аргумены команды.

Пользователь вызвал команду следующим образом:

```
/foo 123
```

Или так:

```
/foo 456
```

В каждом из случаев пользовтаель передает произвольное число. Сигнатура `/foo` остается стабильной, а вот `123` и `456` в данном случае являются аргументом, и их значение выявляется _динамически_, то есть мы условно можем записать команду вот так:

```
/foo {какое-то число}
```

***

# Обозначение аргумента
Для обозначения того, что в команде есть аргументы, нужно просто указать этот аргумент в самой реакции с соответсвующим __каттером__:

```python hl_lines="11"
{!docs_src/command_text_args_simple.py!}
```

Мы просто добавили аргумент в команду и использовали _typing hints_ для обозначения того, какого типа является аргумент

Если вызвать команду так:
```
/foo 456
```

То в ответ получим следующее:
```
Команда вызвана с числом 456
```

`vq.Integer` называется специальным термином __каттер__ (cutter), потому что его роль как бы "отрезать" необходимый кусок строки

!!! Tip
    Линтеры могут ругаться на манипуляции с аргументом, имеющий несоответсвующий тайпинг, поэтому сигнатура обозначения аргумента может быть одной из:

    * `#!python def foo(arg: vq.Integer):`
    * `#!python def foo(arg: vq.Integer()):`
    * `#!python def foo(arg=vq.Integer):`
    * `#!python def foo(arg=vq.Integer()):`
    * `#!python def foo(arg: int = vq.Integer):` (`#!python int` здесь не влияет на аргумент, он используется только для корректной работы линтера и игнорируется VK Quick'ом)
    * `#!python def foo(arg: int = vq.Integer()):`
***

# Несколько аргументов
Представим, что мы хотим сделать команду, которая должна принять имя пользователя и его возраст. Нам уже потребуется сразу 2 аргумента, поэтому мы должны просто перечислить их через запятую


```python hl_lines="11"
{!docs_src/command_text_args_many_args.py!}
```

Теперь при вызове команды таким образом:
```
/foo Tom 22
```

В ответ прийдет следующее:
```
Пользователь с именем `Tom` и возрастом `22` добавлен!
```

!!! Tip
    Вы можете обозначить сколько угодно аргументов в своей команде. Всевозможные типы уже встроенных аргументов можно найти [здесь](https://github.com/deknowny/vkquick/tree/master/vkquick/text_cutters). В каждом из файлов есть по каттеру с описанием того, в каких случаях его можно использовать и как конфигуровать

***

# Аргументы с настройками
Некоторые из встроенных аргументов можно сконфигуровать, передав некоторые настройки. Возвращаясь к примеру выше, может получиться так, что пользователь укажет отрицательное число, что невозомжно для возраста. Поэтому необходимо указать, что минимальное значение обязательно больше 0:

```python hl_lines="11"
{!docs_src/command_text_args_simple_configurated.py!}
```

***

# Обработка некорректных аргументов
Пользователь не всегда может прислать корректный по значению аргумент, тогда команда не сможеть быть вызвана корректно. Аргументная система VK Quick имеет ряд продвинутых возомжностей по обработке команды с заготовленными шаблонами взаимодейтсвия с пользователем при некорректном аргументе

## Craving
Craving — особая методика получения корректного значения для некорректно переданного аргумента путем ожидания нового значения из нового сообщения. Это значит, что если пользователь передал ошибочный по значению аргумент, то вызов команды не прекратится. Бот будет запрашивать новый аргумент до тех пор, пока либо вызов не будет отменен, либо не будет передано корректное значение, либо не наступит таймаут, при этом подобные манипуляции не блокирующие — весь функционал бота все ещё будет доступен для использования

Вы можете поиграться с крейвингом, используя пример выше. Как можно заметить, если же некорректный аргумент был передан не самым последним, то бот запрос исключительно некорректный аргумент. Крейвинг продуман на абсолютно всевозможные вариации развития сюжета и более того, его можно настроить, передав невобходимые параметры в инициализацию команды

* `crave_correct_arguments`: Включает/отключает крейвинг. Важно отметить, что бот все ещё будет предупреждать о некорректном вызове, но сам процесс крейвинга не запустится

## Колбэки

## Кастомизация текстов-описаний
